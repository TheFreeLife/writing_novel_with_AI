<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>소설 작성 에디터</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Noto+Sans+CJK+KR:wght@400;700&family=Noto+Serif+CJK+KR:wght@400;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <!-- 메뉴 화면 (초기 로드 시 표시) -->
    <div id="menu-view" class="view">
        <div class="menu-container">
            <h1>내 프로젝트</h1>
            <ul id="project-list">
                <!-- 프로젝트 목록이 여기에 동적으로 로드됩니다 -->
            </ul>
            <button id="create-project-btn" class="primary-btn">새 프로젝트 생성</button>
        </div>
    </div>

    <!-- 에디터 화면 (프로젝트 선택/생성 시 표시) -->
    <div id="editor-view" class="view hidden">
        <div class="container">
            <aside class="sidebar">
                <button id="back-to-menu-btn" class="back-btn">← 목록으로</button>
                <h1>챕터</h1>
                <ul id="chapter-list">
                    <!-- 챕터 목록이 여기에 동적으로 추가됩니다. -->
                </ul>
                <button id="new-chapter-btn" class="primary-btn">새 챕터 추가</button>
                <div id="char-counter">
                    <div class="counter-item">
                        <span>총 글자수</span>
                        <span id="count-total">0</span>
                    </div>
                    <div class="counter-item">
                        <span>공백 제외</span>
                        <span id="count-no-space">0</span>
                    </div>
                    <div class="counter-item">
                        <span>순수 문자</span>
                        <span id="count-pure">0</span>
                    </div>
                </div>
            </aside>
            <main class="main-content">
                <header class="main-header">
                    <!-- 이 헤더는 이제 레이아웃을 위한 공간이며, 버튼은 외부에 있습니다. -->
                </header>
                <div class="editor-container">
                    <textarea id="editor" spellcheck="false"></textarea>
                </div>
            </main>
        </div>
    </div>

    <!-- 설정 버튼 (화면 전체 고정 위치) -->
    <button id="settings-open-btn" title="설정 열기">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path
                d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z">
            </path>
            <circle cx="12" cy="12" r="3"></circle>
        </svg>
    </button>

    <!-- 설정 패널 -->
    <div id="settings-panel">
        <div class="settings-header">
            <h2>설정</h2>
            <button id="settings-close-btn" title="설정 닫기">&times;</button>
        </div>
        <div class="settings-content">
            <div class="setting-item">
                <label for="setting-bg-color">에디터 배경색</label>
                <input type="color" id="setting-bg-color">
            </div>
            <div class="setting-item">
                <label for="setting-font-color">에디터 글자색</label>
                <input type="color" id="setting-font-color">
            </div>
            <div class="setting-item">
                <label for="setting-font-size-range">글자 크기 (px)</label>
                <div class="font-size-container">
                    <input type="range" id="setting-font-size-range" min="12" max="100" step="1">
                    <input type="number" id="setting-font-size-number" min="12" max="100">
                </div>
            </div>
            <div class="setting-item">
                <label for="setting-font-family">폰트</label>
                <select id="setting-font-family">
                    <option value="'Noto Serif CJK KR', serif">Noto Serif CJK KR (명조)</option>
                    <option value="'Noto Sans CJK KR', sans-serif">Noto Sans CJK KR (고딕)</option>
                    <option value="-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif">
                        기본 시스템 고딕</option>
                    <option value="serif">기본 시스템 명조</option>
                    <option value="monospace">기본 고정폭</option>
                </select>
            </div>
            <button id="save-settings-btn" class="primary-btn">설정 저장</button>
        </div>
    </div>


    <!-- 프로젝트 생성 모달 -->
    <div id="create-project-modal" class="modal">
        <div class="modal-content">
            <h2>새 프로젝트 생성</h2>
            <div class="modal-body">
                <div class="form-group">
                    <label for="new-project-title">제목</label>
                    <input type="text" id="new-project-title" placeholder="소설 제목을 입력하세요">
                </div>
                <div class="form-group">
                    <label for="new-project-description">상세 설명</label>
                    <textarea id="new-project-description" rows="3" placeholder="소설에 대한 간단한 설명을 적어주세요"></textarea>
                </div>
                <div class="form-group">
                    <label for="new-project-thumbnail">썸네일 이미지</label>
                    <input type="file" id="new-project-thumbnail" accept="image/*">
                    <p class="input-help" style="font-size: 0.8rem; color: #888; margin-top: 5px;">선택하지 않으면 검은색 배경이
                        적용됩니다.</p>
                </div>
            </div>
            <div class="modal-footer">
                <button id="modal-create-btn" class="primary-btn">생성하기</button>
                <button id="modal-cancel-btn" class="secondary-btn">취소</button>
            </div>
        </div>
    </div>

    <!-- 오버레이 -->
    <div id="overlay"></div>

    <script src="script.js" defer></script>
</body>

</html>